{"ast":null,"code":"import _objectSpread from\"/Users/gaurav/code/Cuvette/to-do-app copy/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useContext,useState}from\"react\";import{AppDataContext}from\"../../../Context/AppContext\";import'./GroupFormStyles.css';import axiosInstance from\"../../../services/axiosInstance\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GroupForm=_ref=>{let{onClose}=_ref;const{form,setform,getGroups}=useContext(AppDataContext);const[errorMessage,setErrorMessage]=useState(\"\");const updateForm=e=>{const{name,value}=e.target;setform(_objectSpread(_objectSpread({},form),{},{[name]:value}));if(errorMessage){setErrorMessage(\"\");}};const createGroup=async e=>{e.preventDefault();setErrorMessage(\"\");try{const response=await axiosInstance.post(\"/api/group\",form);console.log(response);setform({name:\"\",color:\"\"});getGroups();onClose();}catch(error){var _error$response,_error$response2,_error$response2$data,_error$response3;console.log(\"Error details:\",(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data);console.log(\"Form data being sent:\",form);if((_error$response2=error.response)!==null&&_error$response2!==void 0&&(_error$response2$data=_error$response2.data)!==null&&_error$response2$data!==void 0&&_error$response2$data.message){setErrorMessage(error.response.data.message);}else if(((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.status)===409){setErrorMessage(\"A group with this name already exists. Please choose a different name.\");}else{setErrorMessage(\"Failed to create group. Please try again.\");}}};const colors=['#FF5733','#33FF57','#3357FF','#FF33F5','#33F5FF','#F5FF33'];return/*#__PURE__*/_jsxs(\"form\",{className:\"group-form\",onSubmit:createGroup,children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close-btn\",onClick:onClose,\"aria-label\":\"Close\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"form-title\",children:\"Create a group\"}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errorMessage}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"\",children:\"Group name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:\"form-input\",value:form.name,placeholder:\"Enter Group Name\",onChange:updateForm,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"\",children:\"Group color\"}),/*#__PURE__*/_jsx(\"div\",{className:\"color-options\",children:colors.map(color=>/*#__PURE__*/_jsxs(\"label\",{className:\"color-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"color-radio\",name:\"color\",value:color,checked:form.color===color,onChange:updateForm}),/*#__PURE__*/_jsx(\"span\",{className:\"color-circle\",style:{backgroundColor:color}})]},color))}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-btn\",children:\"Create Group\"})]});};export default GroupForm;","map":{"version":3,"names":["useContext","useState","AppDataContext","axiosInstance","jsx","_jsx","jsxs","_jsxs","GroupForm","_ref","onClose","form","setform","getGroups","errorMessage","setErrorMessage","updateForm","e","name","value","target","_objectSpread","createGroup","preventDefault","response","post","console","log","color","error","_error$response","_error$response2","_error$response2$data","_error$response3","data","message","status","colors","className","onSubmit","children","type","onClick","htmlFor","placeholder","onChange","required","map","checked","style","backgroundColor"],"sources":["/Users/gaurav/code/Cuvette/to-do-app copy/client/src/Components/FormSection/GroupForm/GroupForms.js"],"sourcesContent":["import { useContext,useState } from \"react\"\nimport { AppDataContext } from \"../../../Context/AppContext\";\nimport './GroupFormStyles.css';\nimport axiosInstance from \"../../../services/axiosInstance\";\n\nconst GroupForm = ({onClose}) => {\n  const { form, setform,getGroups } = useContext(AppDataContext)\n\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const updateForm = (e) => {\n    const { name, value } = e.target;\n\n    setform({\n      ...form,\n      [name]: value\n    });\n    if (errorMessage) {\n      setErrorMessage(\"\");\n    }\n  }\n  const createGroup = async (e) => {\n    e.preventDefault();\n    setErrorMessage(\"\");\n    try {\n      const response = await axiosInstance.post(\"/api/group\", form)\n      console.log(response)\n      setform({\n        name: \"\",\n        color: \"\"\n      })\n      getGroups()\n      onClose()\n\n    } catch (error) {\n      console.log(\"Error details:\", error.response?.data);\n      console.log(\"Form data being sent:\", form);\n      if (error.response?.data?.message) {\n        setErrorMessage(error.response.data.message);\n      } else if (error.response?.status === 409) {\n        setErrorMessage(\"A group with this name already exists. Please choose a different name.\");\n      } else {\n        setErrorMessage(\"Failed to create group. Please try again.\");\n      }\n    }\n  }\n  const colors = ['#FF5733', '#33FF57', '#3357FF', '#FF33F5', '#33F5FF', '#F5FF33'];\n  return (\n    <form className=\"group-form\" onSubmit={createGroup}>\n      <button \n        type=\"button\" \n        className=\"close-btn\" \n        onClick={onClose}\n        aria-label=\"Close\"\n      >\n        Ã—\n      </button>\n      <h1 className=\"form-title\">Create a group</h1>\n      {errorMessage && (\n        <div className=\"error-message\">\n          {errorMessage}\n        </div>\n      )}\n      <label className=\"form-label\" htmlFor=''>Group name</label>\n      <input type='text'\n        name='name'\n        className=\"form-input\"\n        value={form.name}\n        placeholder=\"Enter Group Name\"\n        onChange={updateForm}\n        required></input>\n      <br />\n      <label className=\"form-label\" htmlFor=''>Group color</label>\n      <div className=\"color-options\">\n        {colors.map(color => (\n          <label key={color} className=\"color-label\">\n            <input\n              type='radio'\n              className=\"color-radio\"\n              name='color'\n              value={color}\n              checked={form.color === color}\n              onChange={updateForm}\n              \n            />\n            <span\n              className=\"color-circle\"\n              style={{backgroundColor:color}}\n              >\n              </span>\n          </label>\n        ))}\n      </div>\n      <button type='submit' className=\"submit-btn\">Create Group</button>\n    </form>\n  )\n}\n\nexport default GroupForm"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}